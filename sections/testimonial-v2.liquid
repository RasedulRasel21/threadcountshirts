
{%- liquid
 assign columns_desktop = section.settings.columns_desktop
 assign columns_mobile = section.settings.columns_mobile | plus: 0


 assign card_layout = section.settings.card_layout


 assign card_has_bg = false
 if section.settings.color_scheme != section.settings.card_color_scheme
   assign card_has_bg = true
 endif
-%}


{%- style -%}
/* Testimonials V2 - Dynamic CSS */
#shopify-section-{{ section.id }} .testimonials-v2 {
 padding-top: {{ section.settings.padding_top }}px;
 padding-bottom: {{ section.settings.padding_bottom }}px;
}


#shopify-section-{{ section.id }} .testimonials-v2 .section--padding {
 padding-top: {{ section.settings.padding_top }}px;
 padding-bottom: {{ section.settings.padding_bottom }}px;
}


#shopify-section-{{ section.id }} .testimonials-v2 .page-width {
 max-width: 1200px;
 margin: 0 auto;
 padding: 0 20px;
}


#shopify-section-{{ section.id }} .testimonials-v2 .section__header {
 margin-bottom: 3rem;
 text-align: center;
}


#shopify-section-{{ section.id }} .testimonials-v2 .section__heading {
 margin: 0 0 1rem;
 font-size: 3.5rem;
 font-weight: 600;
 line-height: 1.2;
 background: #3D4CF4;
 background: linear-gradient(to right, #3D4CF4 0%, #ff2862 100%);
 -webkit-background-clip: text;
 -webkit-text-fill-color: transparent;
}


@media (max-width: 767px) {
 #shopify-section-{{ section.id }} .testimonials-v2 .section__heading {
   font-size: 2rem;
 }
}


#shopify-section-{{ section.id }} .testimonials-v2 .section__subheading {
 display: block;
 margin-bottom: 1rem;
 font-size: 0.875rem;
 text-transform: uppercase;
 letter-spacing: 0.1em;
 opacity: 0.7;
}


#shopify-section-{{ section.id }} .testimonials-v2 .section__description {
 margin: 0 auto;
 max-width: 600px;
 font-size: 1.5rem;
 line-height: 1.6;
}


#shopify-section-{{ section.id }} .testimonials-v2 .testimonials-grid {
 display: grid;
 gap: {{ section.settings.column_gap }}px;
 margin: 0;
 padding: 0;
 list-style: none;
}


@media (max-width: 1023px) {
 #shopify-section-{{ section.id }} .testimonials-v2 .testimonials-grid {
   grid-template-columns: repeat({{ columns_desktop | at_most: 3 }}, 1fr);
 }
}


@media (max-width: 767px) {
 #shopify-section-{{ section.id }} .testimonials-v2 .testimonials-grid {
   grid-template-columns: repeat({{ columns_mobile }}, 1fr);
 }
}


@media (max-width: 479px) {
 #shopify-section-{{ section.id }} .testimonials-v2 .testimonials-grid {
   grid-template-columns: 1fr;
 }
}


@media (min-width: 1024px) {
 #shopify-section-{{ section.id }} .testimonials-v2 .testimonials-grid {
   grid-template-columns: repeat({{ columns_desktop }}, 1fr);
 }
}


{% if card_layout == '2' %}
 @media (min-width: 768px) {
   #shopify-section-{{ section.id }} .testimonials-v2 .testimonials-grid {
     grid-template-columns: repeat({{ columns_desktop | at_most: 2 }}, 1fr);
   }
 }
{% endif %}


/* Testimonial Card Styles */
#shopify-section-{{ section.id }} .testimonials-v2 .testimonial {
 display: flex;
 flex-direction: column;
 height: 100%;
 border-radius: 12px;
 overflow: hidden;
}


#shopify-section-{{ section.id }} .testimonials-v2 .testimonial--has-bg {
 background-color: rgba(var(--color-background, 245, 245, 245), 1);
}


#shopify-section-{{ section.id }} .testimonials-v2 .testimonial__image {
 position: relative;
 overflow: hidden;
 border-radius: 12px;
 margin-bottom: 1.5rem;
}


#shopify-section-{{ section.id }} .testimonials-v2 .testimonial__image::before {
 content: '';
 display: block;
 padding-bottom: 75%;
}


#shopify-section-{{ section.id }} .testimonials-v2 .testimonial__image img {
 position: absolute;
 top: 0;
 left: 0;
 width: 100%;
 height: 100%;
 object-fit: cover;
 transition: transform 0.3s ease;
}


#shopify-section-{{ section.id }} .testimonials-v2 .testimonial__image:hover img {
 transform: scale(1.05);
}


#shopify-section-{{ section.id }} .testimonials-v2 .testimonial__inner {
 display: flex;
 flex-direction: column;
 flex-grow: 1;
 padding: 1.5rem;
}


#shopify-section-{{ section.id }} .testimonials-v2 .testimonial:not(.testimonial--has-bg) .testimonial__inner {
 padding: 0;
}


#shopify-section-{{ section.id }} .testimonials-v2 .testimonial:not(.testimonial--has-bg):has(.testimonial__image) .testimonial__inner {
 padding-top: 0;
}


#shopify-section-{{ section.id }} .testimonials-v2 .testimonial__header {
 display: flex;
 align-items: baseline;
 flex-wrap: wrap;
 gap: 0.5rem;
 margin-bottom: 0.8rem;
}


#shopify-section-{{ section.id }} .testimonials-v2 .testimonial__name {
 margin: 0;
 font-size: 1.125rem;
 font-weight: 600;
}


#shopify-section-{{ section.id }} .testimonials-v2 .testimonial__bio {
 font-size: 0.875rem;
 opacity: 0.7;
}


#shopify-section-{{ section.id }} .testimonials-v2 .testimonial__icon {
 display: flex;
 align-items: center;
 gap: 0.2rem;
 line-height: 1;
 margin-bottom: 0.8rem;
 color: #ffd700;
}


#shopify-section-{{ section.id }} .testimonials-v2 .icon-star {
 width: 16px;
 height: 16px;
}


#shopify-section-{{ section.id }} .testimonials-v2 .testimonial__content {
 flex-grow: 1;
 margin: 0;
 font-size: 1.5rem;
 line-height: 1.6;
}


#shopify-section-{{ section.id }} .testimonials-v2 .testimonial__content p {
 margin: 0;
}


#shopify-section-{{ section.id }} .testimonials-v2 .testimonial__footer {
 display: flex;
 flex-direction: column;
 justify-content: flex-end;
 flex-grow: 1;
}


#shopify-section-{{ section.id }} .testimonials-v2 .testimonial__product {
 display: flex;
 align-items: center;
 gap: 1rem;
 margin-top: 2rem;
 padding-top: 1rem;
 border-top: 1px solid rgba(0, 0, 0, 0.1);
 text-decoration: none;
 color: inherit;
}


#shopify-section-{{ section.id }} .testimonials-v2 .testimonial__product:hover {
 opacity: 0.8;
}


#shopify-section-{{ section.id }} .testimonials-v2 .testimonial__product-image {
 flex-shrink: 0;
 width: 52px;
 height: 52px;
 border-radius: 12px;
 overflow: hidden;
}


#shopify-section-{{ section.id }} .testimonials-v2 .testimonial__product-image img {
 width: 100%;
 height: 100%;
 object-fit: cover;
}


#shopify-section-{{ section.id }} .testimonials-v2 .testimonial__product-title {
 margin: 0;
 font-size: 0.875rem;
 font-weight: 500;
}


/* Layout 2 Specific Styles */
#shopify-section-{{ section.id }} .testimonials-v2 .testimonial--layout-2 {
 display: grid;
 grid-template-columns: 5fr 3fr;
}


@media (max-width: 767px) {
 #shopify-section-{{ section.id }} .testimonials-v2 .testimonial--layout-2 {
   grid-template-columns: 1fr;
 }
}


#shopify-section-{{ section.id }} .testimonials-v2 .testimonial--layout-2 .testimonial__image {
 grid-column: 2;
 grid-row: 1;
 margin: 0;
 height: 100%;
 border-radius: 0 12px 12px 0;
}


@media (max-width: 767px) {
 #shopify-section-{{ section.id }} .testimonials-v2 .testimonial--layout-2 .testimonial__image {
   grid-column: 1;
   grid-row: 1;
   border-radius: 12px 12px 0 0;
 }
}


#shopify-section-{{ section.id }} .testimonials-v2 .testimonial--layout-2 .testimonial__image::before {
 padding-bottom: 0;
}


#shopify-section-{{ section.id }} .testimonials-v2 .testimonial--layout-2 .testimonial__inner {
 grid-column: 1;
 grid-row: 1;
}


@media (max-width: 767px) {
 #shopify-section-{{ section.id }} .testimonials-v2 .testimonial--layout-2 .testimonial__inner {
   grid-row: 2;
 }
}


/* Placeholder */
#shopify-section-{{ section.id }} .testimonials-v2 .placeholder-svg {
 width: 100%;
 height: 100%;
 background-color: #e0e0e0;
}
{%- endstyle -%}


<div class="testimonials-v2 section section--padding color-{{ section.settings.color_scheme }}{% if section.settings.custom_class != blank %} {{ section.settings.custom_class }}{% endif %}">
 <div class="page-width">
   {%- if section.settings.heading != blank or section.settings.subheading != blank or section.settings.description != blank -%}
     <div class="section__header">
       {%- if section.settings.subheading != blank -%}
         <div class="section__subheading">{{ section.settings.subheading }}</div>
       {%- endif -%}


       {%- if section.settings.heading != blank -%}
         <h2 class="section__heading {{ section.settings.heading_size }}">
           {{ section.settings.heading }}
         </h2>
       {%- endif -%}


       {%- if section.settings.description != blank -%}
         <div class="section__description rte {{ section.settings.text_size }}">
           {{ section.settings.description }}
         </div>
       {%- endif -%}
     </div>
   {%- endif -%}


   <div class="section__content">
     <ul class="testimonials-grid">
       {%- for block in section.blocks -%}
         <li class="testimonials-grid__item" {{ block.shopify_attributes }}>
           <div class="testimonial testimonial--layout-{{ card_layout }}{% if card_has_bg %} testimonial--has-bg{% endif %} color-{{ section.settings.card_color_scheme }}">
             {%- if block.settings.show_image -%}
               <div class="testimonial__image">
                 {%- if block.settings.image != blank -%}
                   <img
                     src="{{ block.settings.image | image_url: width: 750 }}"
                     srcset="
                       {{ block.settings.image | image_url: width: 360 }} 360w,
                       {{ block.settings.image | image_url: width: 535 }} 535w,
                       {{ block.settings.image | image_url: width: 750 }} 750w
                     "
                     sizes="(max-width: 767px) 100vw, (max-width: 1023px) 33vw, 25vw"
                     alt="{{ block.settings.image.alt | escape }}"
                     loading="lazy"
                     width="{{ block.settings.image.width }}"
                     height="{{ block.settings.image.height }}"
                   >
                 {%- else -%}
                   {{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}
                 {%- endif -%}
               </div>
             {%- endif -%}


             <div class="testimonial__inner">
               {%- if block.settings.author != blank or block.settings.bio != blank -%}
                 <div class="testimonial__header">
                   {%- if block.settings.author != blank -%}
                     <h4 class="testimonial__name">{{ block.settings.author }}</h4>
                   {%- endif -%}
                   {%- if block.settings.bio != blank -%}
                     <div class="testimonial__bio">{{ block.settings.bio }}</div>
                   {%- endif -%}
                 </div>
               {%- endif -%}


               {%- if block.settings.icon != 'none' -%}
                 <div class="testimonial__icon">
                   {%- case block.settings.icon -%}
                     {%- when '1-star' -%}
                       {%- for i in (1..1) -%}
                         <svg class="icon icon-star" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                           <path d="M8 0.5L10.0784 5.63932L15.6085 6.02786L11.3629 9.59268L12.7023 14.9721L8 12.036L3.29772 14.9721L4.63706 9.59268L0.391548 6.02786L5.92159 5.63932L8 0.5Z" fill="currentColor"/>
                         </svg>
                       {%- endfor -%}
                     {%- when '2-stars' -%}
                       {%- for i in (1..2) -%}
                         <svg class="icon icon-star" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                           <path d="M8 0.5L10.0784 5.63932L15.6085 6.02786L11.3629 9.59268L12.7023 14.9721L8 12.036L3.29772 14.9721L4.63706 9.59268L0.391548 6.02786L5.92159 5.63932L8 0.5Z" fill="currentColor"/>
                         </svg>
                       {%- endfor -%}
                     {%- when '3-stars' -%}
                       {%- for i in (1..3) -%}
                         <svg class="icon icon-star" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                           <path d="M8 0.5L10.0784 5.63932L15.6085 6.02786L11.3629 9.59268L12.7023 14.9721L8 12.036L3.29772 14.9721L4.63706 9.59268L0.391548 6.02786L5.92159 5.63932L8 0.5Z" fill="currentColor"/>
                         </svg>
                       {%- endfor -%}
                     {%- when '4-stars' -%}
                       {%- for i in (1..4) -%}
                         <svg class="icon icon-star" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                           <path d="M8 0.5L10.0784 5.63932L15.6085 6.02786L11.3629 9.59268L12.7023 14.9721L8 12.036L3.29772 14.9721L4.63706 9.59268L0.391548 6.02786L5.92159 5.63932L8 0.5Z" fill="currentColor"/>
                         </svg>
                       {%- endfor -%}
                     {%- when '5-stars' -%}
                       {%- for i in (1..5) -%}
                         <svg class="icon icon-star" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                           <path d="M8 0.5L10.0784 5.63932L15.6085 6.02786L11.3629 9.59268L12.7023 14.9721L8 12.036L3.29772 14.9721L4.63706 9.59268L0.391548 6.02786L5.92159 5.63932L8 0.5Z" fill="currentColor"/>
                         </svg>
                       {%- endfor -%}
                   {%- endcase -%}
                 </div>
               {%- endif -%}


               {%- if block.settings.text != blank -%}
                 <div class="testimonial__content rte {{ section.settings.card_text_size }}">
                   {{ block.settings.text }}
                 </div>
               {%- endif -%}


               {%- if block.settings.product != blank -%}
                 <div class="testimonial__footer">
                   {%- assign product = all_products[block.settings.product] -%}
                   <a class="testimonial__product" href="{{ product.url }}">
                     <span class="testimonial__product-image">
                       {%- if product.featured_image -%}
                         <img
                           src="{{ product.featured_image | image_url: width: 360 }}"
                           alt="{{ product.featured_image.alt | escape }}"
                           loading="lazy"
                           width="52"
                           height="52"
                         >
                       {%- endif -%}
                     </span>
                     <p class="testimonial__product-title">{{ product.title }}</p>
                   </a>
                 </div>
               {%- endif -%}
             </div>
           </div>
         </li>
       {%- endfor -%}
     </ul>
   </div>
 </div>
</div>


{% schema %}
{
 "name": "Testimonials V2",
 "tag": "section",
 "class": "section section-testimonials",
 "disabled_on": {
   "groups": ["footer", "header", "custom.overlay"]
 },
 "settings": [
   {
     "type": "header",
     "content": "General"
   },
   {
     "type": "color_scheme",
     "id": "color_scheme",
     "label": "Color scheme",
     "default": "scheme-1"
   },
   {
     "type": "header",
     "content": "Section Header"
   },
   {
     "type": "inline_richtext",
     "id": "heading",
     "default": "Testimonials",
     "label": "Heading"
   },
   {
     "type": "select",
     "id": "heading_size",
     "label": "Heading size",
     "default": "h1",
     "options": [
       {
         "value": "h6",
         "label": "Extra Small"
       },
       {
         "value": "h5",
         "label": "Small"
       },
       {
         "value": "h4",
         "label": "Medium Small"
       },
       {
         "value": "h3",
         "label": "Medium"
       },
       {
         "value": "h2",
         "label": "Large"
       },
       {
         "value": "h1",
         "label": "Extra Large"
       }
     ]
   },
   {
     "type": "text",
     "id": "subheading",
     "label": "Subheading"
   },
   {
     "type": "richtext",
     "id": "description",
     "label": "Description"
   },
   {
     "type": "select",
     "id": "text_size",
     "label": "Description size",
     "default": "text-base",
     "options": [
       {
         "value": "text-sm",
         "label": "Small"
       },
       {
         "value": "text-base",
         "label": "Base"
       },
       {
         "value": "text-lg",
         "label": "Large"
       }
     ]
   },
   {
     "type": "header",
     "content": "Card Settings"
   },
   {
     "type": "color_scheme",
     "id": "card_color_scheme",
     "label": "Card color scheme",
     "default": "scheme-1"
   },
   {
     "type": "select",
     "id": "card_layout",
     "options": [
       {
         "value": "1",
         "label": "Layout 1"
       },
       {
         "value": "2",
         "label": "Layout 2"
       }
     ],
     "default": "1",
     "label": "Card layout"
   },
   {
     "type": "select",
     "id": "card_text_size",
     "label": "Card text size",
     "default": "text-base",
     "options": [
       {
         "value": "text-sm",
         "label": "Small"
       },
       {
         "value": "text-base",
         "label": "Base"
       },
       {
         "value": "text-lg",
         "label": "Large"
       }
     ]
   },
   {
     "type": "header",
     "content": "Grid Settings"
   },
   {
     "type": "range",
     "id": "columns_desktop",
     "min": 2,
     "max": 5,
     "step": 1,
     "default": 4,
     "label": "Desktop columns"
   },
   {
     "type": "range",
     "id": "column_gap",
     "label": "Column gap",
     "min": 0,
     "max": 50,
     "step": 5,
     "default": 20,
     "unit": "px"
   },
   {
     "type": "header",
     "content": "Mobile Settings"
   },
   {
     "type": "select",
     "id": "columns_mobile",
     "options": [
       {
         "value": "1",
         "label": "1 column"
       },
       {
         "value": "2",
         "label": "2 columns"
       }
     ],
     "default": "1",
     "label": "Mobile columns"
   },
   {
     "type": "header",
     "content": "Section Padding"
   },
   {
     "type": "range",
     "id": "padding_top",
     "min": 0,
     "max": 100,
     "step": 2,
     "unit": "px",
     "label": "Padding top",
     "default": 50
   },
   {
     "type": "range",
     "id": "padding_bottom",
     "min": 0,
     "max": 100,
     "step": 2,
     "unit": "px",
     "label": "Padding bottom",
     "default": 50
   },
   {
     "type": "header",
     "content": "Custom Attributes"
   },
   {
     "type": "text",
     "id": "custom_class",
     "label": "Custom class"
   }
 ],
 "blocks": [
   {
     "type": "testimonial",
     "name": "Testimonial",
     "settings": [
       {
         "type": "checkbox",
         "id": "show_image",
         "label": "Show image",
         "default": true
       },
       {
         "type": "image_picker",
         "id": "image",
         "label": "Image"
       },
       {
         "type": "richtext",
         "id": "text",
         "default": "<p>Add customer reviews and testimonials to showcase your store's happy customers.</p>",
         "label": "Content"
       },
       {
         "type": "text",
         "id": "author",
         "default": "Author's name",
         "label": "Author"
       },
       {
         "type": "text",
         "id": "bio",
         "label": "Bio"
       },
       {
         "type": "product",
         "id": "product",
         "label": "Product"
       },
       {
         "type": "select",
         "id": "icon",
         "label": "Rating",
         "options": [
           {
             "value": "none",
             "label": "None"
           },
           {
             "value": "1-star",
             "label": "1 star"
           },
           {
             "value": "2-stars",
             "label": "2 stars"
           },
           {
             "value": "3-stars",
             "label": "3 stars"
           },
           {
             "value": "4-stars",
             "label": "4 stars"
           },
           {
             "value": "5-stars",
             "label": "5 stars"
           }
         ]
       }
     ]
   }
 ],
 "presets": [
   {
     "name": "Testimonials V2",
     "blocks": [
       {
         "type": "testimonial"
       },
       {
         "type": "testimonial"
       },
       {
         "type": "testimonial"
       },
       {
         "type": "testimonial"
       }
     ]
   }
 ]
}
{% endschema %}


